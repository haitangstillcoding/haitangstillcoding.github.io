import{_ as s,o as i,c as n,R as a}from"./chunks/framework.gZp3ZZFg.js";const e="/assets/Snipaste_2023-11-23_15-10-00.GZIowz6w.png",p="/assets/Snipaste_2023-11-23_15-17-18.KLRjFsty.png",l="/assets/Snipaste_2023-11-23_15-34-16.98ixxC4Q.png",t="/assets/Snipaste_2023-11-23_15-41-19.KsKZXkca.png",h="/assets/Snipaste_2023-11-23_15-42-23.SZHPH7zb.png",r="/assets/Snipaste_2023-11-23_15-44-00.ucLzjSSU.png",k="/assets/Snipaste_2023-11-23_15-54-32.MvKJC4KB.png",d="/assets/Snipaste_2023-11-23_15-56-47.KFBDb-g6.png",x=JSON.parse('{"title":"Docker 安装 Nginx","description":"通过Docker容器快速部署Nginx服务器","frontmatter":{"description":"通过Docker容器快速部署Nginx服务器","recommend":false,"cover":"/blog/docker/images/nginx.jpeg","tag":["Docker","Nginx"],"date":"2023-11-27T21:00:00.000Z"},"headers":[],"relativePath":"blog/devops/docker/Docker安装Nginx.md","filePath":"blog/devops/docker/Docker安装Nginx.md","lastUpdated":1703552913000}'),c={name:"blog/devops/docker/Docker安装Nginx.md"},o=a('<h1 id="docker-安装-nginx" tabindex="-1">Docker 安装 Nginx <a class="header-anchor" href="#docker-安装-nginx" aria-label="Permalink to &quot;Docker 安装 Nginx&quot;">​</a></h1><h2 id="_1-拉取镜像" tabindex="-1">1 拉取镜像 <a class="header-anchor" href="#_1-拉取镜像" aria-label="Permalink to &quot;1 拉取镜像&quot;">​</a></h2><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pull</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+e+`" alt="Snipaste_2023-11-23_15-10-00"></p><h2 id="_2-创建nginx配置文件" tabindex="-1">2 创建Nginx配置文件 <a class="header-anchor" href="#_2-创建nginx配置文件" aria-label="Permalink to &quot;2 创建Nginx配置文件&quot;">​</a></h2><p>启动前需要先创建Nginx外部挂载的配置文件（ /home/nginx/conf/nginx.conf）。之所以要先创建 , 是因为Nginx本身容器只存在/etc/nginx 目录 , 本身就不创建 nginx.conf 文件。当宿主机和容器都不存在 nginx.conf 文件时，执行启动命令的时候 docker会将nginx.conf 作为目录创建 , 这并不是我们想要的结果。</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home/nginx/conf</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home/nginx/log</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">mkdir</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home/nginx/html</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="`+p+'" alt="Snipaste_2023-11-23_15-17-18"></p><h2 id="_3-复制配置文件" tabindex="-1">3 复制配置文件 <a class="header-anchor" href="#_3-复制配置文件" aria-label="Permalink to &quot;3 复制配置文件&quot;">​</a></h2><p>将容器中的nginx.conf文件、conf.d文件夹和html文件夹复制到宿主机</p><p>①运行Nginx容器生成容器内的配置文件</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 80</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:80</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+l+'" alt="Snipaste_2023-11-23_15-34-16"></p><p>②将容器nginx.conf文件复制到宿主机</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx:/etc/nginx/nginx.conf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home/nginx/conf/nginx.conf</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+t+'" alt="Snipaste_2023-11-23_15-41-19"></p><p>③将容器conf.d文件夹下内容复制到宿主机</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx:/etc/nginx/conf.d</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home/nginx/conf/conf.d</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+h+'" alt="Snipaste_2023-11-23_15-42-23"></p><p>④将容器中的html文件夹复制到宿主机</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx:/usr/share/nginx/html</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /home/nginx/</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+r+`" alt="Snipaste_2023-11-23_15-44-00"></p><h2 id="_4-创建nginx容器并运行" tabindex="-1">4 创建Nginx容器并运行 <a class="header-anchor" href="#_4-创建nginx容器并运行" aria-label="Permalink to &quot;4 创建Nginx容器并运行&quot;">​</a></h2><p>①停止并删除运行的Nginx容器</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>②重新运行Nginx容器，并挂载宿主机配置目录</p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -p</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 80</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">:80</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/home/nginx/conf/nginx.conf:/etc/nginx/nginx.conf</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/home/nginx/conf/conf.d:/etc/nginx/conf.d</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/home/nginx/log:/var/log/nginx</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">-v </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">/home/nginx/html:/usr/share/nginx/html</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nginx</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><img src="`+k+'" alt="Snipaste_2023-11-23_15-54-32"></p><p>③测试运行</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>curl 127.0.0.1</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><img src="'+d+'" alt="Snipaste_2023-11-23_15-56-47"></p>',31),g=[o];function F(m,u,b,C,_,y){return i(),n("div",null,g)}const B=s(c,[["render",F]]);export{x as __pageData,B as default};
